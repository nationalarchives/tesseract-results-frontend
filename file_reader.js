const images_folder = './public/images';
const fs = require('fs');

fs.readdir(images_folder, (err, files) => {

    const images = [];

    files.forEach(file_name => {
        images.push(`'http://localhost:3000/images/${file_name}'`);
    });

    const file_content = `// The content of this file is generated by file_reader.js. Do not amend it directly\n\nconst images = [${images}];`;

    const file_name = "./public/javascripts/images_from_filesystem.js";

    fs.writeFile(file_name, file_content, function (err) {
        if (err) {
            return console.log(err);
        }
        console.log(`${file_name} was saved`);
    });

});


